%header.sticky-top
  %nav.navbar.navbar-expand-lg.shadow-sm{class: "navbar-light", style: "background-color: #f8f9fa; border-bottom: 1px solid #e3e6f0;"}
    .container
      = link_to root_path, class: "navbar-brand d-flex align-items-center" do
        %i.bi.bi-heart-pulse.me-2.fs-4.text-primary
        %span.fw-bold.text-dark Dieter
      
      %button.navbar-toggler.border-0{"aria-controls" => "navbarNav", "aria-expanded" => "false", "aria-label" => "Toggle navigation", :data => { "bs-toggle" => "collapse", "bs-target" => "#navbarNav" }, :type => "button"}
        %span.navbar-toggler-icon
      
      .collapse.navbar-collapse#navbarNav
        %ul.navbar-nav.ms-auto.mb-2.mb-lg-0
          - if user_signed_in?
            %li.nav-item.mx-1
              = link_to fitlogs_path, class: "nav-link px-3 py-2 rounded #{'active fw-bold' if controller_name == 'fitlogs'}" do
                %i.bi.bi-journal-text.me-1.text-primary
                %span.text-dark 記録一覧
            
            %li.nav-item.mx-1
              = link_to profile_path, class: "nav-link px-3 py-2 rounded #{'active fw-bold' if controller_name == 'profiles'}" do
                %i.bi.bi-person.me-1.text-primary
                %span.text-dark プロフィール
            
            %li.nav-item.mx-1
              = link_to chart_path, class: "nav-link px-3 py-2 rounded #{'active fw-bold' if controller_name == 'charts'}" do
                %i.bi.bi-graph-up.me-1.text-primary
                %span.text-dark グラフ
            
            %li.nav-item.ms-lg-3.mt-2.mt-lg-0
              .dropdown
                %button.btn.btn-outline-secondary.btn-sm.dropdown-toggle.d-flex.align-items-center{type: "button", id: "dropdownMenuButton", data: { "bs-toggle" => "dropdown" }, "aria-expanded" => "false"}
                  .avatar-circle.me-2.d-flex.align-items-center.justify-content-center{style: "width: 24px; height: 24px; background-color: #f0f2f5; border-radius: 50%;"}
                    %i.bi.bi-person-fill.text-secondary{style: "font-size: 0.9rem;"}
                  %span アカウント
                
                %ul.dropdown-menu.dropdown-menu-end.shadow-sm{aria: {labelledby: "dropdownMenuButton"}}
                  %li
                    = link_to edit_user_registration_path, class: "dropdown-item" do
                      %i.bi.bi-gear.me-2.text-secondary
                      設定
                  %li
                    %hr.dropdown-divider
                  %li
                    = link_to destroy_user_session_path, class: "dropdown-item text-danger", data: { turbo_method: :delete } do
                      %i.bi.bi-box-arrow-right.me-2
                      ログアウト
          - else
            %li.nav-item.me-2
              = link_to new_user_registration_path, class: 'btn btn-outline-primary' do
                %i.bi.bi-person-plus.me-1
                新規登録
            %li.nav-item
              = link_to new_user_session_path, class: 'btn btn-primary' do
                %i.bi.bi-box-arrow-in-right.me-1
                ログイン
